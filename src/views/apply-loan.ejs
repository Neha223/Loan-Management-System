
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for Loan</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->
    <link rel="stylesheet" href="/css/register.css">
    <script src="/js/register.js"></script>
</head>
<body>


    <form action="/apply-loan" method="POST" enctype="application/json">
        <h4 style="text-align: center; color:#17A2B8;" class="p-4">Loan Application Form</h4>
        <label>
            <p class="label-txt">NAME</p>
            <input type="text" id="name" name="name" class="input" required>
            <div class="line-box">
                <div class="line"></div>
            </div>
        </label>
        <label>
            <p class="label-txt">CONTACT NUMBER</p>
            <input type="text" id="contactNo" name="contactNo" class="input" required>
            <div class="line-box">
                <div class="line"></div>
            </div>
        </label>

        <label>
            <p class="label-txt">LOAN AMOUNT</p>
            <input type="number" name="amount" id="amount" value=""class="input" required>
            <div class="line-box">
                <div class="line"></div>
            </div>
        </label>
        <label>
            <p class="label-txt">TENURE (in months)</p>
            <input type="number" name="tenure" id="tenure" value=""class="input" required>
            <div class="line-box">
                <div class="line"></div>
            </div>
        </label>
        <label>
            <p class="label-txt">INTEREST</p>
            <div class="slidecontainer" style="top: 1.5em;
            position: relative;">
            <output id="output"></output>
                <input type="range" onchange="sliderChange(this.value)" min="1" max="50" value="1"  class="slider" id="interest" name="interest" required>
        </div>
        </label>
        <a onclick="calculateEMI()" class="btn btn-danger">Calculate EMI</a>
        <label>
            <p class="label-txt">INSTALLMENT</p>
            <input type="number" name="installment" id="installment" value=""class="input" readonly>
            <div class="line-box">
                <div class="line"></div>
            </div>
        </label>
        <label>
            <p class="label-txt" style="top: 0em;">LOAN TYPE</p>
            <select name="type" class="form-control" id="type" required style="top: 3em;
            position: relative;">
                <option readonly value="">Select Loan-Type</option>
                <option value="HOME LOAN">HOME LOAN</option>
                <option value="PERSONAL LOAN">PERSONAL LOAN</option>
    
            </select>
            </label>    
        <button type="submit" style="margin-top:50px">Apply</button>
    </form>
</body>
<script>
    function sliderChange(val) {
        document.getElementById('output').innerHTML = val + "%";
    }
    function calculateEMI() {
        var amount = document.getElementById('amount').value ? document.getElementById('amount').value : 0;
        var tenure = document.getElementById('tenure').value ? document.getElementById('tenure').value: 0;
        var interest = document.getElementById('interest').value? document.getElementById('interest').value: 0;

        interest = interest / 1200;

        document.getElementById('installment').value = Math.round((amount * interest * Math.pow((1 + interest), tenure) / (Math.pow((1 + interest), tenure) - 1)) * 100 + Number.EPSILON) / 100;
    }
    </script>
</html>